!function(i){i.fn.propup=function(n){function o(i){i?c.num++:c.num--,c.num<0?c.num=0:c.num>=n.$imgs.length-1&&(c.num=n.$imgs.length-1),s(n.$popup,n.$poupbox,n.$middle,n.$imgs),e(c.num,n.$popup,n.$poupbox)}function e(o,e,s){if(0==o&&n.$m_prev.addClass("cursor_no"),o==n.$imgs.length-1&&n.$m_next.addClass("cursor_no"),o<0||o>n.$imgs.length-1)return!1;"number"==typeof o?img=i(".img")[o]:img=o,c.newImg.src=img.src;var p=c.newImg.width,u=c.newImg.height,m=1200,t=600,$=m/t,l=p/u;u<=t&&p<=m?n.$imgs.css({width:p,height:u}):l>$?n.$imgs.css({width:m,height:m/l}):n.$imgs.css({width:t*l,height:t});var d=n.$imgs.height(),g=(i(window).height()-d)/2;e.css("display","block"),s.css("display","block"),img.style.display="block",n.$middle.css("top",g)}function s(i,o,e,s){i.hide(),o.hide(),e.css("top","0"),s.hide(),n.$m_next.removeClass("cursor_no"),n.$m_prev.removeClass("cursor_no")}function p(i){n.$middle.click(function(i){i.stopPropagation()})}var c={num:0,newImg:new Image};n&&i.extend(c,n),n.$imgs.css("display","none"),n.$slideF?n.$slideF.delegate(n.$slide_ul,"click",function(o){var c,u;c=i(this).children(".picture"),u=c.find(".img")[0],e(u,n.$popup,c),n.$poupbox.click(function(){o.stopPropagation(),p(),s(n.$popup,n.$poupbox,n.$middle,n.$imgs)})}):(n.$slide_ul.delegate("li","click",function(o){c.num=i(this).index(),e(c.num,n.$popup,n.$poupbox)}),n.$poupbox.click(function(){p(),s(n.$popup,n.$poupbox,n.$middle,n.$imgs)})),n.$cha.click(function(){s(n.$popup,n.$poupbox,n.$middle,n.$imgs)}),n.$m_prev.click(function(){o(!1),p()}),n.$m_next.click(function(){o(!0),p()})}}(jQuery);